<!DOCTYPE html> <html> <head lang="en-us"> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width,initial-scale=0.9,maximum-scale=0.9"> <meta name="description" content="An implementation of Shamir&#39;s secret sharing scheme."> <meta name="generator" content="Hugo 0.18.1"> <title>API Reference &mdash; An implementation of Shamir&#39;s secret sharing scheme.</title> <link rel="stylesheet" href="https://itslab-kyushu.github.io/sss/css/alabaster.css"> <link rel="stylesheet" href="https://itslab-kyushu.github.io/sss/css/custom.css"> <link rel="shortcut icon" href="https://itslab-kyushu.github.io/sss/favicon.ico" type="image/x-icon"> <meta property="og:type" content="article"> <meta property="og:title" content="API Reference &middot; An implementation of Shamir&#39;s secret sharing scheme."> <meta name="og:description" content="An implementation of Shamir&#39;s secret sharing scheme."> <meta property="og:image" content="https://itslab-kyushu.github.io/sss/img/logo.png"> <meta property="og:site_name" content="An implementation of Shamir&#39;s secret sharing scheme."> <meta name="twitter:card" content="An implementation of Shamir&#39;s secret sharing scheme."> <meta name="twitter:site" content="@junkawamoto"> </head> <body role="document"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-4734862314145555",enable_page_level_ads:!0})</script> <div class="document"> <div class="documentwrapper"> <div class="bodywrapper"> <div class="body" role="main"> <h1>API Reference</h1> <p><a href="https://godoc.org/github.com/itslab-kyushu/sss/sss"><img src="https://godoc.org/github.com/itslab-kyushu/sss/sss?status.svg" alt="GoDoc"></a></p> <p>Package <code>github.com/itslab-kyushu/sss/sss</code> provides Distribute and Reconstruct functions, which execute distribute and reconstruct procedures defined in the threshold Secret Sharing scheme. It also provides useful structures, Field and Polynomial.</p> <p>This page explains a basic usage of those functions. See <a href="https://godoc.org/github.com/itslab-kyushu/sss/sss">godoc</a> for the detailed information.</p> <h2 id="installation">Installation</h2> <pre><code class="language-shell">$ go get -d github.com/itslab-kyushu/sss
</code></pre> <h2 id="example">Example</h2> <h3 id="compute-shares-from-a-secret">Compute shares from a secret</h3> <p>Distribute function takes secret, chunk size, the total number of shares, and minimum number of shares to reconstruct the secret, in this order, and returns a slice of shares.</p> <p>The following example reads a file, creates shares and stores them in JSON format.</p> <pre><code class="language-go">secret, err := ioutil.ReadFile(&quot;secret-file&quot;)
if err != nil {
  return err
}

shares, err := sss.Distribute(secret, chunksize, totalShares, threshold)
if err != nil {
  return err
}

for i, s := range shares {
  data, err := json.Marshal(s)
  if err != nil {
    return err
  }
  filename := fmt.Sprintf(&quot;%s.%d.json&quot;, &quot;share-&quot;, i)
  if err = ioutil.WriteFile(filename, data, 0644); err != nil {
    return err
  }
}
</code></pre> <h3 id="reconstruct-the-secret">Reconstruct the secret</h3> <p>Reconstruct takes a slice of shares and returns the secret in a slice of bytes.</p> <p>The following example reads a set of share files, reconstruct the secret, and writes it to a file.</p> <pre><code class="language-go">// filenames is a slice of file names of shares.
shares := make([]sss.Share, len(filenames))
for i, f := range filenames {

  data, err := ioutil.ReadFile(f)
  if err != nil {
    return err
  }

  if err = json.Unmarshal(data, &amp;shares[i]); err != nil {
    return err
  }

}

secret, err := sss.Reconstruct(shares)
if err != nil {
  return err
}
return ioutil.WriteFile(&quot;secret-file&quot;, secret, 0644)
</code></pre> <div> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4734862314145555" data-ad-slot="6733697427" data-ad-format="auto"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({})</script> </div> </div> </div> </div> <div class="sphinxsidebar" role="navigation" aria-label="main navigation"> <div class="sphinxsidebarwrapper"> <p class="logo"> <a href="https://itslab-kyushu.github.io/sss/"> <img class="logo" src="https://itslab-kyushu.github.io/sss/favicon.ico" alt="Logo"> <h1 class="logo logo-name">SSS</h1> </a> </p> <p class="blurb">An implementation of Shamir&rsquo;s secret sharing scheme.</p> <p> <iframe src="https://ghbtns.com/github-btn.html?user=itslab-kyushu&repo=sss&type=watch&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe> </p> <h3>Donate</h3> <p> Consider supporting the authors on <a href="https://www.gratipay.com/">Gratipay</a>: <script src="//grtp.co/v1.js" data-gratipay-username="~jkawamoto" data-gratipay-widget="button" async></script> </p> <h3>Navigation</h3> <ul> <li class="toctree-l1"> <a class="reference internal" href="/sss/">Top</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/sss/local/">Local mode</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/sss/remote/">Remote mode</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/sss/server/">Server application</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/sss/api/">API Reference</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/sss/licenses/">Licenses</a> </li> </ul> <hr> <p> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4734862314145555" data-ad-slot="6733697427" data-ad-format="auto"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({})</script> </p> </div> </div> <div class="clearer"></div> </div> <div class="footer"> &copy; 2018 <a href="https://github.com/jkawamoto/">Junpei Kawamoto</a> | Icon by <a href="http://www.clipartkid.com/">Clipart Kid</a> | Powered by <a href="http://gohugo.io/">Hugo 0.18.1</a> &amp; <a href="https://github.com/digitalcraftsman/hugo-alabaster-theme">Alabaster</a> </div> <a href="https://github.com/itslab-kyushu/sss" class="github"> <img style="position:absolute;top:0;right:0;border:0" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" class="github"> </a> <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/agate.min.css"> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script> <script>hljs.initHighlightingOnLoad()</script> <script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-89247555-1","auto"),ga("send","pageview")</script>  <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-585b3ef9cae64e1e"></script> </body> </html> 