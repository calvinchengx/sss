<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml"> <head lang="en-us"> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width,initial-scale=0.9,maximum-scale=0.9"> <meta name="description" content="An implementation of a secret sharing scheme."> <meta name="generator" content="Hugo 0.18.1"> <title>Command line usage &mdash; An implementation of a secret sharing scheme.</title> <link rel="stylesheet" href="https://itslab-kyushu.github.io/sss/css/alabaster.css"> <link rel="stylesheet" href="https://itslab-kyushu.github.io/sss/css/highlight.css"> <link rel="shortcut icon" href="https://itslab-kyushu.github.io/sss/favicon.ico" type="image/x-icon"> </head> <body role="document"> <div class="document"> <div class="documentwrapper"> <div class="bodywrapper"> <div class="body" role="main"> <h1>Command line usage</h1> <p>The secret sharing scheme this command provides is a simple <a href="http://dx.doi.org/10.1007/978-3-642-20901-7_2"><em>k</em>-out-of-<em>n</em> threshold secret sharing</a>, which means totally <em>n</em> shares will be made from one secret file, and you need to at least <em>k</em> shares to reconstruct the secret.</p> <h2 id="client-usage">Client Usage</h2> <p>The client application provides two way to run the threshold Secret Sharing scheme (SSS). One of them is local mode, which stores shares into a local file system. The other one is remote mode, which stores shares into servers provided the server command.</p> <h3 id="local-mode">Local mode</h3> <p>The local mode provides two sub commands, distribute and reconstruct. Distribute command reads a file and creates a set of shares, on the other hand, reconstruct command reads a set of shares and reconstructs the original file.</p> <h4 id="distribute">Distribute</h4> <pre><code>$ sss local distribute &lt;file&gt; &lt;number of shares&gt; &lt;threshold&gt;
</code></pre> <p>This command produces share files and the file name of i-th share has <code>.i.xz</code> as the suffix.</p> <p>This command also takes an optional flag <code>--chunk</code> to specify the byte size of each chunk. The given secret file is divided to chunks based on this size and distributed in shares.</p> <h4 id="reconstruct">Reconstruct</h4> <pre><code>$ sss local reconstruct &lt;file&gt;...
</code></pre> <p>It produces a file based on the given share&rsquo;s file name by removing the above suffix. For example, if the names of share files are <code>sample.txt.1.xz</code>, <code>sample.txt.2.xz</code>, &hellip;, then the default file name of the reconstructed secret will be <code>sample.txt</code>.</p> <p>You can use <code>--output</code> flag to use another file name.</p> <h3 id="remote-mode">Remote mode</h3> <p>Remote mode provides four sub command: get, put, delete, and list. All commands take a YAML based server configuration file. The format is as follows:</p> <pre><code class="language-yaml">servers:
  - address: 192.168.0.1
    port: 13009
  - address: 192.168.0.2
    port: 13009
  - address: 192.168.1.1
    port: 13009
</code></pre> <p>The above example defines three servers.</p> <p>The get command gathers shares from the servers defined the configuration file, and put command distributes shares to the servers.</p> <p>The default name of the configuration file is <code>sss.yml</code> but you can set another name via <code>--config</code> flag.</p> <h4 id="get">Get</h4> <pre><code>sss remote get --config sss.yml --output result.dat &lt;file name&gt;
</code></pre> <p>Get command gathers shares associated with the given file name from the servers defined in the configuration file, and then reconstructs and stores them as the given file name via <code>--output</code> flag.</p> <p>If <code>--config</code> flag is omitted, <code>sss.yml</code> is used, and if <code>--output</code> flag is omitted, <code>&lt;file name&gt;</code> is used.</p> <p>To find available file names, use list command.</p> <p>The number of groups and the number of total servers must be greater then or equal to the group threshold and the data threshold, which are given when those shares were created.</p> <h4 id="put">Put</h4> <pre><code>sss remote put --config sss.yml &lt;file&gt; &lt;threshold&gt;
</code></pre> <p>Put command reads the given file and runs distribute procedure to create shares. The threshold is a parameter of SSS. The number of total shares are as same as defined in the server configuration file.</p> <p>If <code>--config</code> flag is omitted, <code>sss.yml</code> is used.</p> <p>Put command also takes <code>--chunk</code> flag to set the byte size of each chunk. The default value is 256. The distribute procedure creates a finite filed Z/pZ, where p is a prime number which has chunk size + 1 bit length.</p> <h3 id="delete">Delete</h3> <pre><code>sss remote delete --config sss.yml &lt;file name&gt;
</code></pre> <p>Delete command deletes all shares associated with the given file name from all servers defined in the configuration file.</p> <p>If <code>--config</code> flag is omitted, <code>sss.yml</code> is used.</p> <h3 id="list">List</h3> <pre><code>sss remote list --config sss.yml
</code></pre> <p>List command shows all file names stored in the servers. If <code>--config</code> flag is omitted, <code>sss.yml</code> is used.</p> <h2 id="server-usage">Server Usage</h2> <p>The server application runs a simple data store service using SSS.</p> <p>It takes three flags,</p> <ul> <li><code>--port</code>: the port number the server will listen,</li> <li><code>--root</code>: the document root path to store uploaded shares,</li> <li><code>--no-compress</code>: if set, all shares will be stored without compression.</li> </ul> <p>If those flags are omitted, default values are used. Thus, you can start a server by just run <code>sss-server</code>.</p> </div> </div> </div> <div class="sphinxsidebar" role="navigation" aria-label="main navigation"> <div class="sphinxsidebarwrapper"> <p class="logo"> <a href="https://itslab-kyushu.github.io/sss/"> <img class="logo" src="https://itslab-kyushu.github.io/sss/favicon.ico" alt="Logo"> <h1 class="logo logo-name">SSS</h1> </a> </p> <p class="blurb">An implementation of a secret sharing scheme.</p> <p> <iframe src="https://ghbtns.com/github-btn.html?user=itslab-kyushu&repo=sss&type=watch&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe> </p> <h3>Donate</h3> <p> Consider supporting the authors on <a href="https://www.gratipay.com/">Gratipay</a>: <script src="//grtp.co/v1.js" data-gratipay-username="~jkawamoto" data-gratipay-widget="button" async></script> </p> <h3>Navigation</h3> <ul> <li class="toctree-l1"> <a class="reference internal" href="/sss/">Top</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/sss/cli/">Command line usage</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/sss/api/">API Reference</a> </li> <li class="toctree-l1"> <a class="reference internal" href="/sss/licenses/">Licenses</a> </li> </ul> </div> </div> <div class="clearer"></div> </div> <div class="footer"> &copy; 2017 <a href="https://github.com/jkawamoto/">Junpei Kawamoto</a> | Icon by <a href="http://www.clipartkid.com/">Clipart Kid</a> | Powered by <a href="http://gohugo.io/">Hugo 0.18.1</a> &amp; <a href="https://github.com/digitalcraftsman/hugo-alabaster-theme">Alabaster</a> </div> <a href="https://github.com/itslab-kyushu/sss" class="github"> <img style="position:absolute;top:0;right:0;border:0" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" class="github"> </a> <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script> <script>hljs.initHighlightingOnLoad()</script> <script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-89247555-1","auto"),ga("send","pageview")</script>  <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-585b3ef9cae64e1e"></script> </body> </html> 